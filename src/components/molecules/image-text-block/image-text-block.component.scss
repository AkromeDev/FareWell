@use 'themes/theme-entry' as *;

.image-text-block {
  padding: 2rem 1rem;

  &.dark {
    background-color: $black;
    color: $light-1;
  }

  &.light {
    background-color: $white;
    color: $dark-2;
  }

  &.custom {
    background-color: $light-1;
    color: $dark-2;
  }

  .content {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-top: 1.5rem;

    .image {
      width: 100%;
      aspect-ratio: 16 / 9;
      border-radius: 0.5rem;
      overflow: hidden;

      background-position: center;
      background-repeat: no-repeat;

      /* default behavior */
      background-size: cover;

      /* ✅ IMPORTANT: never create a different “card” color */
      background-color: inherit;

      &.resize {
        /* ✅ always fit the whole image */
        background-size: contain;
      }
    }

    .paragraph {
      width: 100%;
    }
  }

  @media (min-width: 768px) {
    .content {
      flex-direction: row;
      align-items: center;

      &.reverse {
        flex-direction: row-reverse;
      }

      .image {
        flex: 1;
        height: auto;

        /* keep default desktop look */
        background-size: cover;
      }

      /* ✅ make sure resize wins on desktop too */
      .image.resize {
        background-size: contain;
      }

      .paragraph {
        flex: 1;
        padding: 0 1rem;
      }
    }
  }
}
